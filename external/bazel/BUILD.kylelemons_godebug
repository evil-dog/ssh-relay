package(default_visibility = ["//visibility:public"])

load("@io_bazel_rules_go//go:def.bzl", "go_library", "go_test")

go_library(
    name = "diff",
    srcs = ["diff/diff.go"],
    importpath = "github.com/kylelemons/godebug/diff",
    visibility = ["//visibility:public"],
)

go_test(
    name = "diff_test",
    srcs = glob(["diff/diff_test.go"]),
    embed = [":diff"],
)

go_library(
    name = "pretty",
    srcs = glob(
        ["pretty/*.go"],
        exclude = ["**/*_test.go"],
    ),
    importpath = "github.com/kylelemons/godebug/pretty",
    deps = [":diff"],
)

go_test(
    name = "pretty_test",
    srcs = glob(["pretty/*_test.go"]),
    embed = [":pretty"],
)
